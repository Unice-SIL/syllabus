{% macro section_template(section) %}
    <li class="section list-group-item mt-1">
        <div class="row">
            <div class="col-md-auto">
                <i class="fas fa-caret-down" title="Déplier / Replier."
                   data-toggle="collapse"
                   data-target="#collapse_{{ section.vars.id }}"
                   aria-expanded="true"
                   aria-controls="collapse_{{ section.vars.id }}"
                ></i>
            </div>
            <div class="col">
                {{ form_widget(section.title) }}
                <label alt="Titre" placeholder="Titre"></label>
            </div>
            <div class="col-md-auto pl-0">
                <i class="fas fa-trash-alt section-collection-remove" title="Retirer de la liste."></i>
            </div>
            <div class="col-md-auto pl-0">
                <i class="fas fa-arrows-alt section-collection-move" title="Glisser / déposer pour modifier l'ordre."></i>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="collapse show" id="collapse_{{ section.vars.id }}">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <strong>Description</strong>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    {{ form_errors(section.description) }}
                                    {{ form_widget(section.description) }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row mt-3">
                        <div class="col container-activities">
                            <div class="row">
                                <div class="col">
                                    <strong>Activité(s) associée(s) au contenu</strong>
                                    {{ form_errors(section.activities) }}
                                </div>
                            </div>

                            <div class="row">
                                <div class="col m-2">

                                    <!-- ACTIVITIES -->
                                    <div class="row border">
                                        <div class="col">
                                            <div class="row">
                                                <div class="col">
                                                    <div class="row">
                                                        <div class="col">
                                                            <img src="{{ asset('images/activity_in_class_64.png') }}">
                                                            <span class="font-weight-bold">Activité(s) réalisée(s) en classe</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col p-1">
                                                            {{ form_widget(section.classActivities) }}
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <div class="row">
                                                                <div class="col m-1 border-bottom">
                                                                    <small>
                                                                        Avec l'ensemble des étudiants
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col p-1">
                                                                    {{ form_widget(section.classTogetherActivities) }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <div class="row">
                                                                <div class="col m-1 border-bottom">
                                                                    <small>
                                                                        Avec des petits groupes
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col p-1">
                                                                    {{ form_widget(section.classGroupsActivities) }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="row">
                                                        <div class="col">
                                                            <img src="{{ asset('images/activity_in_autonomy_64.png') }}">
                                                            <span class="font-weight-bold">Activité(s) à faire en autonomie</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col p-1">
                                                            {{ form_widget(section.autonomyActivities) }}
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                            <div class="row">
                                                                <div class="col m-1 border-bottom">
                                                                    <small>
                                                                        Travail individuel
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col p-1">
                                                                    {{ form_widget(section.autonomyIndividualActivities) }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <div class="row">
                                                                <div class="col m-1 border-bottom">
                                                                    <small>
                                                                        Travail collectif
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col p-1">
                                                                    {{ form_widget(section.autonomyCollectiveActivities) }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <!-- EVALUATIONS -->
                                    <div class="row mt-3">
                                        <div class="col">
                                            <strong>Evaluation(s) associée(s) au contenu</strong>
                                        </div>
                                    </div>
                                    <div class="row border mt-2">
                                        <div class="col">
                                            <div class="row">
                                                <div class="col">
                                                    <img src="{{ asset('images/evaluation_cc_64.png') }}">
                                                    <span class="font-weight-bold">Contrôle Continu</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col p-1">
                                                    {{ form_widget(section.ccEvaluations) }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col m-2 border">
                                    <div class="row h-100">
                                        <div class="col p-1">
                                            {{ form_widget(section.activities) }}
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    {{ form_row(section) }}
                </div>
            </div>
        </div>
    </li>
{% endmacro %}

{% block _edit_activities_course_info_sections_widget %}
    {% import _self as sectionsField %}
    <ul class="list-group" id="sections" data-prototype="{{ sectionsField.section_template(form.vars.prototype)|e }}">
        {% for section in form.children %}
            {{ sectionsField.section_template(section) }}
        {% endfor %}
    </ul>
{% endblock %}