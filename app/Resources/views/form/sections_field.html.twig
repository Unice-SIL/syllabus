{% macro section_template(section, activitiesClass) %}
    <li class="list-group-item section">
        <div class="row">
            <div class="col-md-auto align-self-center">
                <i class="fas fa-caret-down" title="Déplier / Replier."
                   data-toggle="collapse"
                   data-target="#collapse_{{ section.vars.id }}"
                   aria-expanded="false"
                   aria-controls="collapse_{{ section.vars.id }}"
                ></i>
            </div>
            <div class="col">
                {{ form_widget(section.title) }}
                <label alt="Titre" placeholder="Titre"></label>
            </div>
            <div class="col-md-auto align-self-center">
                <i class="fas fa-arrows-alt-v section-collection-move" title="Glisser / déposer pour modifier l'ordre."></i>
                <i class="fas fa-eraser section-collection-remove" title="Retirer de la liste."></i>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="collapse multi-collapse" id="collapse_{{ section.vars.id }}">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <strong>{{ form_label(section.description) }}</strong>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    {{ form_widget(section.description) }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row mt-3">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <strong>Activité(s) / Evaluation(s) associée(s) au contenu</strong>
                                </div>
                            </div>
                            <div class="row container-activities">
                                <div class="col m-1 border p-1">
                                    <div class="row">
                                        <div class="col">
                                            <div class="list-class-activities">
                                                {% for activityClass in activitiesClass %}
                                                    <div class="list-class-activity p-1 mt-1 border border-info">
                                                        <small class="font-weight-bold activity-label">{{ activityClass.label }}</small>
                                                        <input type="hidden" value="{{ activityClass.id }}">
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col m-1 border p-1">
                                    {{ form_row(section.activities) }}
                                </div>
                            </div>
                        </div>
                    </div>
                    {{ form_row(section) }}
                </div>
            </div>
        </div>
    </li>
{% endmacro %}

{% block _edit_activities_course_info_sections_widget %}
    {% import _self as sectionsField %}
    <ul class="list-group" id="sections" data-prototype="{{ sectionsField.section_template(form.vars.prototype)|e }}">
        {% for section in form.children %}
            {{ sectionsField.section_template(section, activitiesClass) }}
        {% endfor %}
    </ul>
{% endblock %}