{{ form_start(form, {'attr': {'class': 'modal-action-form', 'data-action-url': path('course_presentation_teachers', {'id': courseInfo.id })}}) }}
{{ form_errors(form) }}
<div class="row mt-3">
    <div class="col">
        <div>
            <div class="col">
                <label class="required font-weight-bold">Qui fait partie de l'Ã©quipe enseignante ?</label>
            </div>
        </div>
        <div class="mb-2">
            <label placeholder="Source"></label>
            {{ form_widget(form.teacherSource) }}
        </div>
        <div class="mb-2">
            {{ form_widget(form.login) }}
        </div>
        <div class="mb-2">
            {{ form_widget(form.emailVisibility, { label_attr: {class: 'checkbox-custom'}}) }}
            {{ form_widget(form.manager, { label_attr: {class: 'checkbox-custom'}}) }}
        </div>
    </div>
</div>
<div class="d-flex justify-content-center">
    <button type="submit" class="btn btn-primary button-gradient" id="create_button">
        Ajouter
    </button>
</div>
{{ form_widget(form._token) }}
{{ form_end(form, {'render_rest': false }) }}

<script src="{{ asset('bundles/tetranzselect2entity/js/select2entity.js') }}"></script>
<script>

    $(document).ready(function(){
        let select2minimumInputLength = 2;
        $('#teachers_login').select2({
            minimumInputLength: select2minimumInputLength,
            language: 'fr',

            ajax: {
                url: '{{ path('teachers_select2_list') }}',
                dataType: 'json',
                delay: 250,
                data: function (params)
                {
                    return {
                        q: params.term,
                        source: $('#teachers_teacherSource').val()
                    };
                },
                processResults: function (data) {
                    return {
                        results: data
                    };
                }
            }
        });
    });

</script>
