<div class="d-flex my-2">
    <span class="align-text-bottom mt-1">Assister à des séances de tutorat :</span>
    <div class="ml-2">
        <input type="checkbox" data-toggle="toggle" data-style="ios" id="btn_tutoring" data-on="Oui"
               data-off="Non"
               data-action-title="Ajouter une séance de tutorat"
               data-action-url="{{ path('objective_course_tutoring_form', {'id': courseInfo.id }) }}"
                {% if courseInfo.tutoring %}
                    checked
                {% endif %}
        >
    </div>
</div>
<div class="border p-2 position-relative" id="assistTutoring">
    <button type="button"
            class="btn btn-link modal-action p-0 position-absolute"
            style="top: 0px; right: 0px"
            data-action-title="Ajouter une compétence"
            data-action-url="{{ path('objective_course_tutoring_form', {'id': courseInfo.id }) }}">
        <i class="fas fa-edit"></i>
    </button>
    <div class="mr-4">
        {% if courseInfo.tutoringTeacher == 1 %}
            <i class="fas fa-check text-success"></i>
        {% else %}
            <i class="fas fa-times text-danger"></i>
        {% endif %}
        <span>Avec tuteur enseignant</span>
    </div>
    <div>
        {% if courseInfo.tutoringStudent == 1 %}
            <i class="fas fa-check text-success"></i>
        {% else %}
            <i class="fas fa-times text-danger"></i>
        {% endif %}
        <span class="ml-1">Avec tuteur étudiant</span>
    </div>
    <div class="mt-2">
        <span>{{ courseInfo.tutoringDescription }}</span>
    </div>
</div>
{% if courseInfo.courseTutoringResources is empty %}
    <div class="row mt-10">
        <div class="col">
            <div class="d-flex">
                <div class="d-flex flex-column">
                            <span class="font-weight-bold">
                                <i class="fas fa-exclamation-circle text-danger"></i>
                                Remédiation
                            </span>
                    <span class="text-danger">
                                Non-renseigné
                            </span>
                </div>
            </div>
        </div>
    </div>
{% else %}
    <table class="table table-hover">
        <thead>
        <tr>
            <th class="text-left" style="width: 80%">Description</th>
            <th class="text-center" style="width: 20%">Modifier/Supprimer</th>
        </tr>
        </thead>
        <tbody id="tutoring-resources-list" class="list-sortable" data-url="{{ path('objective_course_sort_tutoring_resources', {'id': courseInfo.id}) }}">
        {% for tutoringResources in courseInfo.courseTutoringResources %}
            <tr class="item-sortable text-center" data-id="{{ tutoringResources.id }}">
                <td class="text-left">{{ tutoringResources.description }}</td>
                <td class="text-center">
                    <button type="button"
                            class="btn btn-link modal-action p-0"
                            data-action-title="Modifier une remédiation"
                            data-action-url="{{ path('objective_course_edit_tutoring_resources', {'id': courseInfo.id, 'tutoringResourcesId': tutoringResources.id}) }}">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-link modal-action p-0"
                            data-action-title="Supprimer une remédiation"
                            data-action-url="{{ path('objective_course_remove_tutoring_resources', {'id': courseInfo.id, 'tutoringResourcesId': tutoringResources.id}) }}">
                        <i class="fas fa-trash-alt text-danger"></i>
                    </button>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}

<script>
    $('#btn_tutoring').bootstrapToggle();

    if ($('#btn_tutoring').prop('checked') == 1) {
        $('#assistTutoring').show();
    } else {
        $('#assistTutoring').hide();
    }

    if ($('#tutoring-resources-list').length)
    {
        Syllabus.sortable($('#tutoring-resources-list'));
    }
</script>