{% extends 'ajax.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block main %}


{% endblock %}

{% block javascripts %}

    <script>
        $(document).ready(function() {

            /**
             * Submit the form
             */
            $("form[name='edit_closing_remarks_course_info']").submit(function(e){
                e.preventDefault();

                var form = $(this);

                SILTools.spinner.fadeIn( {
                    always: function(){
                        $.ajax({
                            type: 'POST',
                            url: '{{ path('save_closing_remarks_course_info', { 'id': courseInfo.id })|escape('js') }}',
                            data: form.serialize()
                        }).done(function(response){
                            if(response.type !== undefined && response.message !== undefined) {
                                SILTools.alert(response.type, response.message, false);
                            }
                        }).always(function(){
                            SILTools.spinner.fadeOut( );
                        });
                    }
                });
            });
        });
    </script>
{% endblock %}